parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var e=0,r=document.querySelector(".start"),t=document.querySelectorAll(".field-row"),o=document.querySelector(".game-score"),a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function n(){for(var e=0;e<4;e++)for(var r=0;r<4;r++)t[e].querySelectorAll(".field-cell")[r].className="field-cell".concat(a[e][r]?" field-cell--".concat(a[e][r]):""),t[e].querySelectorAll(".field-cell")[r].textContent=a[e][r]?a[e][r]:""}function c(){for(var e=0;e<4;e++)for(var r=0;r<4;r++)a[e][r]*=0}function f(){for(var e=Math.floor(4*Math.random()),r=0;r<4;r++)if(0===a[e][r])return e;return f()}function s(e){var r=Math.floor(4*Math.random());return 0===a[e][r]?r:s(e)}function u(){return 9===Math.floor(10*Math.random())?4:2}function i(){var e=f(),r=s(e);0===a[e][r]&&(a[e][r]+=u())}function l(){for(var r=0,t=0;t<4;t++)for(var n=0;n<4;n++)2048===a[t][n]&&document.querySelector(".message-win").classList.toggle("hidden",!1),0===a[t][n]&&r++;if(0===r){for(var c=0;c<3;c++)for(var f=0;f<4;f++)a[c][f]===a[c+1][f]&&++r;for(var s=0;s<4;s++)for(var u=0;u<3;u++)a[s][u]===a[s][u+1]&&++r;0===r&&document.querySelector(".message-lose").classList.toggle("hidden",!1)}o.textContent="".concat(e)}function d(){for(var e=0,r=3;r>0;r--)for(var t=0;t<4;t++)0===a[r-1][t]&&0!==a[r][t]&&(a[r-1][t]+=a[r][t],a[r][t]*=0,e++);return e}function v(){for(var e=0,r=0;r<3;r++)for(var t=0;t<4;t++)0===a[r+1][t]&&0!==a[r][t]&&(a[r+1][t]+=a[r][t],a[r][t]*=0,e++);return e}function g(){for(var e=0,r=0;r<4;r++)for(var t=3;t>0;t--)0===a[r][t-1]&&0!==a[r][t]&&(a[r][t-1]+=a[r][t],a[r][t]*=0,e++);return e}function h(){for(var e=0,r=0;r<4;r++)for(var t=0;t<3;t++)0===a[r][t+1]&&0!==a[r][t]&&(a[r][t+1]+=a[r][t],a[r][t]*=0,e++);return e}function m(r){switch(r){case"ArrowUp":var t=0;t+=d(),t+=d(),t+=d();for(var o=0;o<3;o++)for(var c=0;c<4;c++)a[o][c]===a[o+1][c]&&0!==a[o][c]&&(a[o][c]*=2,a[o+1][c]*=0,e+=a[o][c],t++,t+=d(),t+=d());if(0===t){l();break}i(),n(),l();break;case"ArrowDown":var f=0;f+=v(),f+=v(),f+=v();for(var s=3;s>0;s--)for(var u=0;u<4;u++)a[s][u]===a[s-1][u]&&0!==a[s][u]&&(a[s][u]*=2,a[s-1][u]*=0,e+=a[s][u],f++,f+=v(),f+=v());if(0===f){l();break}i(),n(),l();break;case"ArrowLeft":var m=0;m+=g(),m+=g(),m+=g();for(var w=0;w<4;w++)for(var L=0;L<3;L++)a[w][L]===a[w][L+1]&&0!==a[w][L]&&(a[w][L]*=2,a[w][L+1]*=0,e+=a[w][L],m++,m+=g(),m+=g());if(0===m){l();break}i(),n(),l();break;case"ArrowRight":var y=0;y+=h(),y+=h(),y+=h();for(var q=0;q<4;q++)for(var A=3;A>0;A--)a[q][A]===a[q][A-1]&&0!==a[q][A]&&(a[q][A]*=2,a[q][A-1]*=0,e+=a[q][A],y++,y+=h(),y+=h());if(0===y){l();break}i(),n(),l()}}r.addEventListener("click",function(){r.classList.add("restart"),r.classList.remove("start"),r.textContent="Restart",e=0,document.querySelector(".message-start").classList.toggle("hidden",!0),document.querySelector(".message-lose").classList.toggle("hidden",!0),document.querySelector(".message-win").classList.toggle("hidden",!0),c(),i(),n(),l()}),document.addEventListener("keydown",function(e){m(e.key)});var w,L,y=document.querySelector(".game-field"),q=!1;function A(e){e.preventDefault(),w=e.changedTouches[0].pageX,L=e.changedTouches[0].pageY}function S(e){q||(e.preventDefault(),e.changedTouches[0].pageX>w+y.offsetWidth/4&&(m("ArrowRight"),q=!0),e.changedTouches[0].pageX<w-y.offsetWidth/4&&(m("ArrowLeft"),q=!0),e.changedTouches[0].pageY<L-y.offsetHeight/4&&(m("ArrowUp"),q=!0),e.changedTouches[0].pageY>L+y.offsetHeight/4&&(m("ArrowDown"),q=!0))}y.addEventListener("touchmove",S),y.addEventListener("touchstart",A),y.addEventListener("touchend",function(){setTimeout(function(){q=!q},200)});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.3803cb42.js.map